From 4cfc01660f536b2222c45c26fe93bd8802d543af Mon Sep 17 00:00:00 2001
From: Ojas Sinha <sinhaojas67@gmail.com>
Date: Tue, 1 Apr 2025 23:20:38 +0000
Subject: [PATCH] automate

---
 run_rl_swarm.sh | 39 +++++++--------------------------------
 1 file changed, 7 insertions(+), 32 deletions(-)

diff --git a/run_rl_swarm.sh b/run_rl_swarm.sh
index e9ff26e..da0b433 100755
--- a/run_rl_swarm.sh
+++ b/run_rl_swarm.sh
@@ -28,15 +28,9 @@ HOST_MULTI_ADDRS=${HOST_MULTI_ADDRS:-$DEFAULT_HOST_MULTI_ADDRS}
 DEFAULT_IDENTITY_PATH="$ROOT"/swarm.pem
 IDENTITY_PATH=${IDENTITY_PATH:-$DEFAULT_IDENTITY_PATH}
 
-while true; do
-    read -p "Would you like to connect to the Testnet? [Y/n] " yn
-    yn=${yn:-Y}  # Default to "Y" if the user presses Enter
-    case $yn in
-        [Yy]* ) CONNECT_TO_TESTNET=True && break;;
-        [Nn]* ) CONNECT_TO_TESTNET=False && break;;
-        * ) echo ">>> Please answer yes or no.";;
-    esac
-done
+CONNECT_TO_TESTNET=True
+        
+
 
 if [ "$CONNECT_TO_TESTNET" = "True" ]; then
     # run modal_login server
@@ -55,7 +49,7 @@ if [ "$CONNECT_TO_TESTNET" = "True" ]; then
 
     SERVER_PID=$!  # Store the process ID
     sleep 5
-    open http://localhost:3000
+    
     cd ..
 
     # Wait until modal-login/temp-data/userData.json exists
@@ -84,33 +78,14 @@ echo "Getting requirements..."
 pip install -r "$ROOT"/requirements-hivemind.txt > /dev/null
 pip install -r "$ROOT"/requirements.txt > /dev/null
 
-if ! which nvidia-smi; then
-   #You don't have a NVIDIA GPU
-   CONFIG_PATH="$ROOT/hivemind_exp/configs/mac/grpo-qwen-2.5-0.5b-deepseek-r1.yaml"
-elif [ -n "$CPU_ONLY" ]; then
-   # ... or we don't want to use it
-   CONFIG_PATH="$ROOT/hivemind_exp/configs/mac/grpo-qwen-2.5-0.5b-deepseek-r1.yaml"
-else
-   #NVIDIA GPU found
-   pip install -r "$ROOT"/requirements_gpu.txt > /dev/null
-   CONFIG_PATH="$ROOT/hivemind_exp/configs/gpu/grpo-qwen-2.5-0.5b-deepseek-r1.yaml"
-fi
+pip install -r "$ROOT"/requirements_gpu.txt > /dev/null
+CONFIG_PATH="$ROOT/hivemind_exp/configs/gpu/grpo-qwen-2.5-0.5b-deepseek-r1.yaml"
 
 echo ">> Done!"
 echo ""
 echo ""
 
-if [ -n "${HF_TOKEN}" ]; then # Check if HF_TOKEN is already set and use if so. Else give user a prompt to choose.
-   HUGGINGFACE_ACCESS_TOKEN=${HF_TOKEN}
-else
-   read -p "Would you like to push models you train in the RL swarm to the Hugging Face Hub? [y/N] " yn
-   yn=${yn:-N}  # Default to "N" if the user presses Enter
-   case $yn in
-      [Yy]* ) read -p "Enter your Hugging Face access token: " HUGGINGFACE_ACCESS_TOKEN;;
-      [Nn]* ) HUGGINGFACE_ACCESS_TOKEN="None";;
-      * ) echo ">>> No answer was given, so NO models will be pushed to Hugging Face Hub" && HUGGINGFACE_ACCESS_TOKEN="None";;
-   esac
-fi
+HUGGINGFACE_ACCESS_TOKEN=${1:-"None"}
 
 echo ""
 echo ""
-- 
2.49.0
